SET NAMES UTF8;
DROP DATABASE IF EXISTS helper;
CREATE DATABASE helper CHARSET=UTF8;
USE helper;

#用户表:user
CREATE TABLE user(
	uid				INT PRIMARY KEY AUTO_INCREMENT,				#用户编号
	uname			VARCHAR(32) NOT NULL DEFAULT '',			#用户名
	upwd			VARCHAR(32) NOT NULL DEFAULT '',			#用户密码
	reg_time	BIGINT NOT NULL DEFAULT 0,						#注册时间
	log_time	BIGINT NOT NULL DEFAULT 0,						#登录时间
	role			INT NOT NULL DEFAULT 0,								#用户角色 0:普通用户 / 1:普通管理员 / 2:超级管理员
	invalid		ENUM('0','1') NOT NULL DEFAULT '0'		#0 有效 / 1 无效
);
INSERT INTO user VALUES(NULL,'admin','123456',1494712030142,1515148559635,2,DEFAULT);
INSERT INTO user VALUES(NULL,'石嵩','123456',1504712030142,1515148559635,1,DEFAULT);
INSERT INTO user VALUES(NULL,'张杰','123456',1514712030142,1515148559635,1,DEFAULT);
INSERT INTO user VALUES(NULL,'zhangsan','123456',1514912030142,1515148559635,0,DEFAULT);
INSERT INTO user VALUES(NULL,'李四','123456',1514992030142,1515148559635,0,DEFAULT);
INSERT INTO user VALUES(NULL,'王五','123456',1515512475838,1515512475838,0,DEFAULT);
INSERT INTO user VALUES(NULL,'刘岩','123456',1515512500494,1515512500494,0,DEFAULT);
INSERT INTO user VALUES(NULL,'刘军','123456',1515512500494,1515512500494,0,DEFAULT);

#课程表:cources
CREATE TABLE cources(
	cid			INT PRIMARY KEY AUTO_INCREMENT,				#课程编号 1前端 / 2java / 3ui / 4linux / 5大数据
	cname		VARCHAR(20) NOT NULL DEFAULT '',			#课程名称
	level		INT NOT NULL DEFAULT 0,								#课程分级
	build_time	BIGINT NOT NULL DEFAULT 0,				#创建时间
	uid			INT NOT NULL DEFAULT 0,								#操作者编号(创建该课程的用户编号)
	option_time	BIGINT NOT NULL DEFAULT 0,				#修改时间
	invalid ENUM('0','1')	NOT NULL DEFAULT '0'  	#是否失效 1 失效 / 0 未失效
);
INSERT INTO cources VALUES(NULL,'WEB前端',5,1515293497686,2,1515294611866,'0');
INSERT INTO cources VALUES(NULL,'JAVA',3,1515293497686,2,1515294611866,'0');
INSERT INTO cources VALUES(NULL,'UI',4,1515293497686,3,1515294611866,'0');
INSERT INTO cources VALUES(NULL,'Linux云计算',4,1515293497686,2,1515294611866,'0');
INSERT INTO cources VALUES(NULL,'大数据',5,1515293497686,3,1515294611866,'0');

#课程分级表：levels
CREATE TABLE levels(
	id			INT PRIMARY KEY AUTO_INCREMENT,
	lid			INT NOT NULL DEFAULT 0,								#级别编号
	lname		VARCHAR(36) NOT NULL DEFAULT '',			#级别名称
	cid			INT NOT NULL DEFAULT 0								#课程编号
);
INSERT INTO levels VALUES(NULL,1,'服务器端与后端语言',1);
INSERT INTO levels VALUES(NULL,2,"web前端基础部分",1);
INSERT INTO levels VALUES(NULL,3,"web前端中级部分",1);
INSERT INTO levels VALUES(NULL,4,"web前端框架部分",1);
INSERT INTO levels VALUES(NULL,5,"web前端项目部分",1);
INSERT INTO levels VALUES(NULL,1,"JAVA初级部分",2);
INSERT INTO levels VALUES(NULL,2,"JAVA中级部分",2);
INSERT INTO levels VALUES(NULL,3,"JAVA高级部分",2);
INSERT INTO levels VALUES(NULL,1,"UI初级部分",3);
INSERT INTO levels VALUES(NULL,2,"UI中级部分",3);
INSERT INTO levels VALUES(NULL,3,"UI高级部分",3);
INSERT INTO levels VALUES(NULL,4,"UI特级部分",3);
INSERT INTO levels VALUES(NULL,1,"Linux云计算第一部分",4);
INSERT INTO levels VALUES(NULL,2,"Linux云计算第二部分",4);
INSERT INTO levels VALUES(NULL,3,"Linux云计算第三部分",4);
INSERT INTO levels VALUES(NULL,4,"Linux云计算第四部分",4);
INSERT INTO levels VALUES(NULL,1,"大数据Python部分",5);
INSERT INTO levels VALUES(NULL,2,"大数据Linux服务器部分",5);
INSERT INTO levels VALUES(NULL,3,"大数据web前端部分",5);
INSERT INTO levels VALUES(NULL,4,"大数据网络安全部分",5);
INSERT INTO levels VALUES(NULL,5,"大数据实战部分",5);

#问题表: questions
CREATE TABLE questions(
	pid			INT PRIMARY KEY AUTO_INCREMENT,				#题目题号
	cid			INT NOT NULL DEFAULT 0,								#课程编号
	lid			INT NOT NULL DEFAULT 0,								#阶段编号
	pname		VARCHAR(160) NOT NULL DEFAULT '',			#题目内容
	ptime		DOUBLE NOT NULL DEFAULT 0,								#做题时间
	answer	VARCHAR(500) NOT NULL DEFAULT '',			#答案
	`key`			VARCHAR(100) NOT NULL DEFAULT ''		#关键词
);
INSERT INTO questions VALUES(NULL,1,1,'PHP中添加语句',1,'INSERT INTO user VALUES(NULL,1)','INSERT;INTO;VALUES');
INSERT INTO questions VALUES(NULL,1,1,'PHP中更新语句',0.5,'UPDATE user SET uname="zhangshan" WHERE uid=5','UPDATE;SET');
INSERT INTO questions VALUES(NULL,1,1,'sql如何设置编码',1.5,'SET NAMES UTF8','SET;NAMES;UTF8');
INSERT INTO questions VALUES(NULL,1,1,'sql如何创建数据库',1,'CREATE DATABASE user CHARSET UTF8','CREATE;DATABASE;CHARSET;UTF8');
INSERT INTO questions VALUES(NULL,1,1,'PHP中删除语句',1.2,'DELETE FROM user WHERE uid=5','DELETE;FROM;WHERE');
INSERT INTO questions VALUES(NULL,1,1,'PHP中查找语句',0.5,'SELECT * FROM user WHERE uid=5','SELECT;FROM;WHERE');


#用户分数等级表	scores
CREATE TABLE scores(
	id			INT PRIMARY KEY AUTO_INCREMENT,				#排行榜
	uid			INT NOT NULL DEFAULT 0,								#用户编号
	cid			INT NOT NULL DEFAULT 0,								#课程编号
	score		INT NOT NULL DEFAULT 0								#总分数
);
INSERT INTO scores VALUES(NULL,4,1,0);
INSERT INTO scores VALUES(NULL,5,1,0);
INSERT INTO scores VALUES(NULL,6,1,0);
INSERT INTO scores VALUES(NULL,7,1,0);
INSERT INTO scores VALUES(NULL,8,1,0);
